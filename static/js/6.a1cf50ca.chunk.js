(this["webpackJsonpps-react-mkd"]=this["webpackJsonpps-react-mkd"]||[]).push([[6],{711:function(e,t,n){"use strict";var r=n(0),a=n(5);t.a=function(e){var t=e.className,n=void 0===t?"":t,o=e.color,i=void 0===o?"#999":o,s=e.height,l=void 0===s?14:s,c=e.title,u=e.width,d=void 0===u?14:u;return r.createElement(a.a,{className:"icon-edit ".concat(n),height:l,title:c,viewBox:"0 0 14 14",width:d},r.createElement("path",{className:"fill-color",d:"M3.21 7.89l6.47-6.48a2 2 0 0 1 2.88 2.78h-.05L6 10.72 3.21 7.89zM2.24 9l2.83 2.83L1.67 13c-.52.18-.79-.1-.62-.61z",fill:i}))}},712:function(e,t,n){},713:function(e,t,n){var r=n(228);e.exports=function(e,t){return r(e,t)}},749:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n.n(o),s=n(13),l=n.n(s),c=n(24),u=n(1),d=n(6),p=n.n(d),f=function(e){var t=e.isDisabled,n=void 0!==t&&t,r=e.isSelected,o=void 0!==r&&r,s=e.isValid,l=void 0===s||s,c=e.onRemove,u=e.text,d=i()("pill",{"is-selected":o&&!n,"is-invalid":!l,"is-disabled":n}),f=n?p.a:c;return a.a.createElement("span",{className:d},a.a.createElement("span",{className:"pill-text"},u),a.a.createElement("span",{"aria-hidden":"true",className:"close-btn",onClick:f},"\u2715"))},m=n(36),h=(n(712),function(e){var t=e.email,n=e.id,r=e.name,o=e.onAdd,i=function(e){e.preventDefault(),o({email:t,id:n,name:r,text:r,type:"user",value:t})};return a.a.createElement(c.a,{position:"bottom-center",text:t},a.a.createElement(m.a,{className:"suggested-pill-invisible-button",onClick:i,onKeyDown:function(e){e.key===u.wd.enter&&i(e)},type:"button"},a.a.createElement("span",{className:"pill-text suggested-pill"},r)))}),b=function(e){var t=e.onSuggestedPillAdd,n=void 0===t?p.a:t,r=e.selectedPillsValues,o=void 0===r?[]:r,i=e.suggestedPillsData,s=void 0===i?[]:i,l=e.suggestedPillsFilter,c=void 0===l?"id":l,u=e.title,d=s.filter((function(e){return!o.includes(e[c])}));return 0===d.length?null:a.a.createElement("div",{className:"pill-selector-suggested"},a.a.createElement("span",null,u),d.map((function(e){return a.a.createElement(h,{key:e.id,email:e.email,id:e.id,name:e.name,onAdd:n})})))};function y(e){return(y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return!t||"object"!==y(t)&&"function"!==typeof t?C(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){e.preventDefault(),e.stopPropagation()}var _=function(e){function t(){var e,n;E(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return x(C(n=S(this,(e=k(t)).call.apply(e,[this].concat(a)))),"state",{isFocused:!1,selectedIndex:-1}),x(C(n),"getNumSelected",(function(){var e=n.props.selectedOptions;return"number"===typeof e.size?e.size:e.length})),x(C(n),"getPillsByKey",(function(e){return n.props.selectedOptions.map((function(t){return t[e]}))})),x(C(n),"handleClick",(function(){n.inputEl.focus()})),x(C(n),"handleFocus",(function(){n.setState({isFocused:!0})})),x(C(n),"handleBlur",(function(){n.setState({isFocused:!1})})),x(C(n),"handleKeyDown",(function(e){var t=n.inputEl.value,r=n.getNumSelected(),a=n.state.selectedIndex;switch(e.key){case u.wd.backspace:var o=-1;if(a>=0?(o=a,n.resetSelectedIndex(),n.inputEl.focus()):""===t&&(o=r-1),o>=0){var i=n.props,s=i.onRemove,l=i.selectedOptions;s("function"===typeof l.get?l.get(o):l[o],o),P(e)}break;case u.wd.arrowLeft:a>=0?(n.setState({selectedIndex:Math.max(a-1,0)}),P(e)):""===t&&r>0&&(n.hiddenEl.focus(),n.setState({selectedIndex:r-1}),P(e));break;case u.wd.arrowRight:if(a>=0){var c=a+1;c>=r?(n.resetSelectedIndex(),n.inputEl.focus()):n.setState({selectedIndex:c}),P(e)}}})),x(C(n),"errorMessageID",l()("errorMessage")),x(C(n),"hiddenRef",(function(e){e&&(n.hiddenEl=e)})),x(C(n),"resetSelectedIndex",(function(){-1!==n.state.selectedIndex&&n.setState({selectedIndex:-1})})),n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this,t=this.state,n=t.isFocused,a=t.selectedIndex,o=this.props,s=o.allowInvalidPills,l=o.className,u=o.disabled,d=o.error,p=o.inputProps,m=o.onInput,h=o.onRemove,y=o.onSuggestedPillAdd,E=o.placeholder,w=o.selectedOptions,S=o.suggestedPillsData,k=o.suggestedPillsFilter,C=o.suggestedPillsTitle,O=o.validator,x=g(o,["allowInvalidPills","className","disabled","error","inputProps","onInput","onRemove","onSuggestedPillAdd","placeholder","selectedOptions","suggestedPillsData","suggestedPillsFilter","suggestedPillsTitle","validator"]),P=S&&S.length>0,_=!!d,I=i()("pill-selector-input-wrapper",{"is-disabled":u,"is-focused":n,"show-error":_,"pill-selector-suggestions-enabled":P}),j={"aria-invalid":_,"aria-errormessage":this.errorMessageID};return r.createElement(c.a,{isShown:_,text:d||"",position:"middle-right",theme:"error"},r.createElement("span",{className:I,onBlur:this.handleBlur,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown},w.map((function(t,n){return r.createElement(f,{isValid:!s||O(t),isDisabled:u,isSelected:n===a,key:t.value,onRemove:h.bind(e,t,n),text:t.displayText||t.text})})),r.createElement("span",{"aria-hidden":"true",className:"accessibility-hidden",onBlur:this.resetSelectedIndex,ref:this.hiddenRef,tabIndex:-1}),r.createElement("textarea",v({},j,x,p,{autoComplete:"off",className:i()("pill-selector-input",l),disabled:u,onInput:m,placeholder:0===this.getNumSelected()?E:"",ref:function(t){e.inputEl=t}})),r.createElement(b,{onSuggestedPillAdd:y,selectedPillsValues:this.getPillsByKey("value"),suggestedPillsFilter:k,suggestedPillsData:S,title:C}),r.createElement("span",{id:this.errorMessageID,className:"accessibility-hidden",role:"alert"},d)))}}])&&w(n.prototype,a),o&&w(n,o),t}(r.Component);x(_,"defaultProps",{allowInvalidPills:!1,disabled:!1,error:"",inputProps:{},placeholder:"",selectedOptions:[],validator:function(){return!0}});t.a=_},750:function(e,t,n){"use strict";var r=n(35),a=n(127);var o=n(58),i=n(0),s=(n(12),!!document.documentElement.currentStyle),l={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},c=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],u={},d=document.createElement("textarea"),p=function(e){Object.keys(l).forEach((function(t){e.style.setProperty(t,l[t],"important")}))};function f(e,t,n,r,a){void 0===n&&(n=!1),void 0===r&&(r=null),void 0===a&&(a=null),null===d.parentNode&&document.body.appendChild(d);var o=function(e,t,n){void 0===n&&(n=!1);if(n&&u[t])return u[t];var r=window.getComputedStyle(e);if(null===r)return null;var a=c.reduce((function(e,t){return e[t]=r.getPropertyValue(t),e}),{}),o=a["box-sizing"];if(""===o)return null;s&&"border-box"===o&&(a.width=parseFloat(a.width)+parseFloat(r["border-right-width"])+parseFloat(r["border-left-width"])+parseFloat(r["padding-right"])+parseFloat(r["padding-left"])+"px");var i=parseFloat(a["padding-bottom"])+parseFloat(a["padding-top"]),l=parseFloat(a["border-bottom-width"])+parseFloat(a["border-top-width"]),d={sizingStyle:a,paddingSize:i,borderSize:l,boxSizing:o};n&&(u[t]=d);return d}(e,t,n);if(null===o)return null;var i=o.paddingSize,l=o.borderSize,f=o.boxSizing,m=o.sizingStyle;Object.keys(m).forEach((function(e){d.style[e]=m[e]})),p(d),d.value=e.value||e.placeholder||"x";var h=-1/0,b=1/0,y=d.scrollHeight;"border-box"===f?y+=l:"content-box"===f&&(y-=i),d.value="x";var v=d.scrollHeight-i,g=Math.floor(y/v);return null!==r&&(h=v*r,"border-box"===f&&(h=h+i+l),y=Math.max(h,y)),null!==a&&(b=v*a,"border-box"===f&&(b=b+i+l),y=Math.min(b,y)),{height:y,minHeight:h,maxHeight:b,rowCount:Math.floor(y/v),valueRowCount:g}}d.setAttribute("tab-index","-1"),d.setAttribute("aria-hidden","true"),p(d);var m=function(){},h=0,b=function(e){function t(t){var n;return(n=e.call(this,t)||this)._onRef=function(e){n._ref=e;var t=n.props.inputRef;"function"!==typeof t?t.current=e:t(e)},n._onChange=function(e){n._controlled||n._resizeComponent(),n.props.onChange(e,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n))},n._resizeComponent=function(e){void 0===e&&(e=m);var t=f(n._ref,n._uid,n.props.useCacheForDOMMeasurements,n.props.minRows,n.props.maxRows);if(null!==t){var r=t.height,a=t.minHeight,o=t.maxHeight,i=t.rowCount,s=t.valueRowCount;n.rowCount=i,n.valueRowCount=s,n.state.height===r&&n.state.minHeight===a&&n.state.maxHeight===o?e():n.setState({height:r,minHeight:a,maxHeight:o},e)}else e()},n.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},n._uid=h++,n._controlled=void 0!==t.value,n._resizeLock=!1,n}Object(o.a)(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=(e.inputRef,e.maxRows,e.minRows,e.onHeightChange,e.useCacheForDOMMeasurements,Object(a.a)(e,["inputRef","maxRows","minRows","onHeightChange","useCacheForDOMMeasurements"]));return t.style=Object(r.a)({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),Object(i.createElement)("textarea",Object(r.a)({},t,{onChange:this._onChange,ref:this._onRef}))},n.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent((function(){e._resizeLock=!1})))},window.addEventListener("resize",this._resizeListener)},n.componentDidUpdate=function(e,t){e!==this.props&&this._resizeComponent(),this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},n.componentWillUnmount=function(){window.removeEventListener("resize",this._resizeListener),function(e){delete u[e]}(this._uid)},t}(i.Component);b.defaultProps={inputRef:m,onChange:m,onHeightChange:m,useCacheForDOMMeasurements:!1};t.a=b},794:function(e,t,n){},795:function(e,t,n){},796:function(e,t,n){},797:function(e,t,n){},798:function(e,t,n){},799:function(e,t,n){},800:function(e,t,n){},801:function(e,t,n){},802:function(e,t,n){},803:function(e,t,n){},804:function(e,t,n){},973:function(e,t,n){"use strict";n.r(t),n.d(t,"SkillsSidebarComponent",(function(){return lt}));var r=n(0),a=n.n(r),o=n(73),i=n.n(o),s=n(8),l=n.n(s),c=n(6),u=n.n(c),d=n(2),p=(n(45),n(40)),f=n(3),m=n(223),h=n(13),b=n.n(h),y=n(81),v=n(224),g=n(323),E=n(1),w=function(e){var t=e.card.status,n=void 0===t?{}:t,a=n.code,o=n.message,i=f.a.skillUnknownError;switch(a){case E.pe:i=f.a.skillInvalidFileSizeError;break;case E.oe:i=f.a.skillInvalidFileExtensionError;break;case E.me:case E.le:case E.qe:case E.re:i=f.a.skillUnknownError;break;case E.ne:i=f.a.skillFileProcessingError;break;case E.we:i=f.a.skillPendingStatus;break;case E.ve:i=f.a.skillInvokedStatus;break;default:if(o)return o}return r.createElement(d.b,i)},S=n(7),k=n.n(S),C=n(10),O=n(18),x=n(711),P=n(5),_=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?"#999":a,i=e.height,s=void 0===i?14:i,l=e.title,c=e.width,u=void 0===c?14:c;return r.createElement(P.a,{className:"icon-copy ".concat(n),height:s,title:l,viewBox:"0 0 14 14",width:u},r.createElement("path",{className:"fill-color",d:"M1 11a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h9a1 1 0 0 1 0 2H2v8a1 1 0 0 1-1 1z",fill:o}),r.createElement("path",{className:"fill-color",d:"M13 3H3v10a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm-3 8H7a1 1 0 0 1 0-2h3a1 1 0 0 1 0 2zm0-3H7a1 1 0 0 1 0-2h3a1 1 0 0 1 0 2z",fill:o}))},I=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?"#979797":a,i=e.height,s=void 0===i?13:i,l=e.title,c=e.width,u=void 0===c?13:c;return r.createElement(P.a,{className:"icon-expand ".concat(n),height:s,title:l,viewBox:"0 0 13 13",width:u},r.createElement("path",{className:"fill-color",d:"M12 0H6a1 1 0 0 0 0 2h5v5a1 1 0 0 0 2 0V1a1 1 0 0 0-1-1zM7 11H2V6a1 1 0 0 0-2 0v6a1 1 0 0 0 1 1h6a1 1 0 0 0 0-2z",fill:o}))},j=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?"#979797":a,i=e.height,s=void 0===i?13:i,l=e.title,c=e.width,u=void 0===c?13:c;return r.createElement(P.a,{className:"icon-collapse ".concat(n),height:s,title:l,viewBox:"0 0 13 13",width:u},r.createElement("path",{className:"fill-color",d:"M8 6h4a1 1 0 0 0 0-2H9V1a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1zM1 9h3v3a1 1 0 0 0 2 0V8a1 1 0 0 0-1-1H1a1 1 0 0 0 0 2z",fill:o}))},N=n(62),T=n(221),A=n(91);function R(e){var t=document.createElement("textarea"),n=document.body;t.value=e,t.style.display="hidden",n&&(n.appendChild(t),t.select(),document.execCommand("copy"),n.removeChild(t))}var D=function(e){return!!e&&"number"===typeof e.start},M=function(e){return Array.isArray(e)&&D(e[0])},z=function(e){var t=e.time,n=e.text,a=void 0===n?"":n,o=e.onClick,i=e.interactionTarget;return r.createElement(O.a,{className:"be-transcript-row","data-resin-target":i,onClick:o,type:"button"},t&&r.createElement("div",{className:"be-transcript-time"},t),r.createElement("div",{className:"be-transcript-text"},a))},L=n(750),F=n(49),V=n(22),H=(n(794),function(e){var t=e.time,n=e.text,a=void 0===n?"":n,o=e.onSave,i=e.onCancel,s=e.onChange;return r.createElement("div",{className:"be-transcript-row be-transcript-editing-row"},t&&r.createElement("div",{className:"be-transcript-time"},t),r.createElement("div",{className:"be-transcript-text"},r.createElement(L.a,{maxRows:10,onChange:s,value:a}),r.createElement("div",{className:"be-transcript-buttons"},r.createElement(V.a,{"data-resin-target":y.f.TRANSCRIPTS.EDIT_CANCEL,onClick:i,type:"button"},r.createElement(d.b,f.a.cancel)),r.createElement(F.a,{"data-resin-target":y.f.TRANSCRIPTS.EDIT_SAVE,onClick:o,type:"button"},r.createElement(d.b,f.a.save)))))}),B=(n(795),function(e){var t=e.appears,n=e.text,r=e.isEditing,o=e.onClick,i=e.onSave,s=e.onCancel,l=e.onChange,c=e.interactionTarget,u=t,d=M(t)&&Array.isArray(t)&&1===t.length?Object(N.e)(u[0].start):void 0;return r?a.a.createElement(H,{onCancel:s,onChange:l,onSave:i,text:n,time:d}):a.a.createElement(z,{interactionTarget:c,onClick:o,text:n,time:d})});n(796);function K(e){return(K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return!t||"object"!==K(t)&&"function"!==typeof t?J(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=function(e){function t(){var e,n;Y(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Z(J(n=Q(this,(e=X(t)).call.apply(e,[this].concat(o)))),"state",{isEditingIndex:void 0,newTranscriptText:"",isCollapsed:!0,isLoading:!1}),Z(J(n),"transcriptReducer",(function(e,t){var n=t.appears,r=t.text,a=M(n)&&Array.isArray(n)?"".concat(Object(N.e)(n[0].start),":"):"";return"".concat(e).concat(a," ").concat(r||"","\r\n")})),Z(J(n),"transcriptMapper",(function(e,t){var a=e.appears,o=e.text,i=n.state,s=i.isEditingIndex,l=i.newTranscriptText,c=s===t,u=c?l:o,d=c?y.f.TRANSCRIPTS.EDIT_TEXT:y.f.TRANSCRIPTS.TRANSCRIPT;return r.createElement(B,{key:t,appears:a,interactionTarget:d,isEditing:c,onCancel:n.onCancel,onChange:n.onChange,onClick:function(){return n.onClick(t)},onSave:n.onSave,text:u})})),Z(J(n),"toggleIsEditing",(function(){n.setState((function(e){return{isEditingIndex:"number"===typeof e.isEditingIndex?void 0:-1}}))})),Z(J(n),"onSave",(function(){var e=n.props,t=e.card.entries,r=e.onSkillChange,a=n.state,o=a.isEditingIndex,i=a.newTranscriptText;if("number"===typeof o){var s=t[o];s.text===i?n.onCancel():(n.setState({isLoading:!0,isEditingIndex:-1}),r(null,null,[{replacement:W({},s,{text:i}),replaced:s}]))}})),Z(J(n),"onCancel",(function(){n.setState({isEditingIndex:-1,newTranscriptText:""})})),Z(J(n),"onChange",(function(e){var t=e.currentTarget;n.setState({newTranscriptText:t.value})})),Z(J(n),"onClick",(function(e){var t=n.props.card.entries;"number"===typeof n.state.isEditingIndex?n.setState({isEditingIndex:e,newTranscriptText:t[e].text}):n.previewSegment(e)})),Z(J(n),"copyTranscript",(function(){var e=n.props.card.entries;R(e.reduce(n.transcriptReducer,"")),n.copyBtn&&n.copyBtn.classList.add("be-transcript-copied"),setTimeout((function(){n.copyBtn&&n.copyBtn.classList.remove("be-transcript-copied")}),1e3)})),Z(J(n),"copyBtnRef",(function(e){n.copyBtn=e})),Z(J(n),"toggleExpandCollapse",(function(){n.setState((function(e){return{isCollapsed:!e.isCollapsed}}))})),n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,e),n=t,(a=[{key:"componentDidUpdate",value:function(e){if(e!==this.props){var t="number"===typeof this.state.isEditingIndex;this.setState({isEditingIndex:t?-1:void 0,newTranscriptText:"",isLoading:!1})}}},{key:"previewSegment",value:function(e){var t=this.props,n=t.card.entries,r=t.getViewer,a=n[e].appears,o=r?r():null,i=M(a)&&Array.isArray(a)&&1===a.length,s=i?a[0].start:0;i&&o&&"function"===typeof o.play&&o.play(s)}},{key:"render",value:function(){var e=this.props,t=e.card.entries,n=e.isEditable,a=this.state,o=a.isEditingIndex,i=a.isCollapsed,s=a.isLoading,l=t.length>0,c=t.length>5,u="number"===typeof o,p=k()("be-transcript-edit",{"be-transcript-is-editing":u}),m=k()({"be-transcript-content-collapsed":i}),h=i?f.a.expand:f.a.collapse;return r.createElement(T.a,{className:"be-transcript",isLoading:s},l&&!s&&r.createElement("div",{className:"be-transcript-actions"},r.createElement(A.a,{text:r.createElement(d.b,f.a.copy)},r.createElement(O.a,{className:"be-transcript-copy","data-resin-target":y.f.TRANSCRIPTS.COPY,getDOMRef:this.copyBtnRef,onClick:this.copyTranscript,type:"button"},r.createElement(_,{color:C.f}))),c&&r.createElement(A.a,{text:r.createElement(d.b,h)},r.createElement(O.a,{className:"be-transcript-expand","data-resin-target":y.f.TRANSCRIPTS.EXPAND,onClick:this.toggleExpandCollapse,type:"button"},i?r.createElement(I,{color:C.f}):r.createElement(j,{color:C.f}))),n&&r.createElement(A.a,{text:r.createElement(d.b,f.a.editLabel)},r.createElement(O.a,{className:p,"data-resin-target":y.f.TRANSCRIPTS.EDIT,onClick:this.toggleIsEditing,type:"button"},r.createElement(x.a,null)))),u?r.createElement("div",{className:"be-transcript-edit-message"},r.createElement(d.b,f.a.transcriptEdit)):null,l?r.createElement("div",{className:m},t.map(this.transcriptMapper)):r.createElement(d.b,f.a.skillNoInfoFoundError))}}])&&G(n.prototype,a),o&&G(n,o),t}(r.PureComponent),ee=n(220),te=n(749),ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e,t){return{displayText:e.text,value:t}}))};n(797);function re(e){return(re="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=oe(t).call(this,e),n=!a||"object"!==re(a)&&"function"!==typeof a?ie(r):a,le(ie(n),"onRemove",(function(e,t){var r=n.props;(0,r.onDelete)(r.keywords[t])})),le(ie(n),"onKeyDown",(function(e){"Enter"!==e.key||n.state.isInCompositionMode||n.onBlur()})),le(ie(n),"onBlur",(function(){var e=n.props.onAdd,t=n.state.keyword;t&&e({type:"text",text:t})})),le(ie(n),"onCompositionStart",(function(){n.setState({isInCompositionMode:!0})})),le(ie(n),"onCompositionEnd",(function(){n.setState({isInCompositionMode:!1})})),le(ie(n),"onInput",(function(e){var t=e.currentTarget;n.setState({keyword:t.value})})),n.state={pills:ne(e.keywords),keyword:"",isInCompositionMode:!1},n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,e),n=t,(a=[{key:"componentDidUpdate",value:function(e){var t=e.keywords,n=this.props.keywords;t!==n&&this.setState({pills:ne(n),keyword:""})}},{key:"render",value:function(){var e=this.props,t=e.onSave,n=e.onCancel,a=this.state,o=a.pills,i=a.keyword;return r.createElement("span",{className:"pill-selector-wrapper"},r.createElement(te.a,{onBlur:this.onBlur,onCompositionEnd:this.onCompositionEnd,onCompositionStart:this.onCompositionStart,onInput:this.onInput,onKeyDown:this.onKeyDown,onPaste:this.onInput,onRemove:this.onRemove,selectedOptions:o,value:i}),r.createElement("div",{className:"be-keywords-buttons"},r.createElement(V.a,{"data-resin-target":y.f.KEYWORDS.EDIT_CANCEL,onClick:n,type:"button"},r.createElement(d.b,f.a.cancel)),r.createElement(F.a,{"data-resin-target":y.f.KEYWORDS.EDIT_SAVE,onClick:t,type:"button"},r.createElement(d.b,f.a.save))))}}])&&ae(n.prototype,a),o&&ae(n,o),t}(r.PureComponent),ue=n(713),de=n.n(ue),pe=n(33);function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var me=function(e){var t=e.options,n=e.onSelect,r=e.selectedOptions,o=void 0===r?[]:r,i=e.buttonProps,s=void 0===i?{}:i;return a.a.createElement("div",{className:"pill-cloud-container"},t&&t.map((function(e){return a.a.createElement(pe.a,fe({key:e.value,className:k()("pill","pill-cloud-button",{"is-selected":o.find((function(t){return de()(t,e)}))}),onClick:n?function(){return n(e)}:void 0},s),e.displayText)})))},he=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?"#999":a,i=e.height,s=void 0===i?14:i,l=e.title,c=e.width,u=void 0===c?14:c;return r.createElement(P.a,{className:"icon-track-next ".concat(n),height:s,title:l,viewBox:"0 0 14 14",width:u},r.createElement("path",{className:"fill-color",d:"M7.72 7.85a1 1 0 0 0 0-1.41l-5-4.81A1 1 0 0 0 2 1.35a1 1 0 0 0-1 1V12a1 1 0 0 0 .28.69 1 1 0 0 0 1.41 0l5-4.81zM13 2v10a1 1 0 0 1-1 1 1 1 0 0 1-1-1V2a1 1 0 0 1 1-1 1 1 0 0 1 1 1z",fill:o}))},be=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?"#999":a,i=e.height,s=void 0===i?14:i,l=e.title,c=e.width,u=void 0===c?14:c;return r.createElement(P.a,{className:"icon-track-previous ".concat(n),height:s,title:l,viewBox:"0 0 14 14",width:u},r.createElement("path",{className:"fill-color",d:"M6.31 7.88l5 4.81a1 1 0 0 0 1.41 0A1 1 0 0 0 13 12V2.35a1 1 0 0 0-1-1 1 1 0 0 0-.69.28l-5 4.81a1 1 0 0 0 0 1.41zM2 1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1 1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z",fill:o}))},ye=(n(798),function(e){var t=e.start,n=e.end,r=e.duration,o=e.onClick,i=e.index,s=e.interactionTarget;if("number"!==typeof t||!r||t>=r)return null;var l=Math.round(290*t/r),c=l+6,u="number"===typeof n?Math.max(c,290*n/r):c,d=Math.round(Math.min(290,u))-l;return d<6&&(l-=6-d,d=6),a.a.createElement(O.a,{className:"be-timeline-time","data-resin-target":s,onClick:function(){return o(i)},style:{left:"".concat(l,"px"),width:"".concat(d,"px")},type:"button"})}),ve=(n(799),function(e){var t=e.text,n=void 0===t?"":t,r=e.duration,o=void 0===r?0:r,i=e.timeslices,s=void 0===i?[]:i,l=e.getViewer,c=e.interactionTarget,u=-1,p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t>0?Math.min(s.length-1,e+t):Math.max(0,e+t),r=l?l():null,a=s[n],o=D(a);o&&r&&"function"===typeof r.play&&(r.play(a.start),u=n)};return a.a.createElement("div",{className:"be-timeline"},n&&a.a.createElement("div",{className:"be-timeline-label"},n),a.a.createElement("div",{className:"be-timeline-line-wrapper"},a.a.createElement("div",{className:"be-timeline-line"}),s.map((function(e,t){var n=e.start,r=e.end;return a.a.createElement(ye,{key:t,duration:o,end:r,index:t,interactionTarget:c,onClick:p,start:n})}))),a.a.createElement("div",{className:"be-timeline-btns"},a.a.createElement(O.a,{"data-resin-target":y.f.TIMELINE.PREVIOUS,onClick:function(){return p(u,-1)},type:"button"},a.a.createElement(be,{title:a.a.createElement(d.b,f.a.previousSegment)})),a.a.createElement(O.a,{"data-resin-target":y.f.TIMELINE.NEXT,onClick:function(){return p(u,1)},type:"button"},a.a.createElement(he,{title:a.a.createElement(d.b,f.a.nextSegment)}))))});n(800);function ge(e){return(ge="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t){return!t||"object"!==ge(t)&&"function"!==typeof t?Oe(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=function(e){function t(){var e,n;we(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return Pe(Oe(n=ke(this,(e=Ce(t)).call.apply(e,[this].concat(a)))),"state",{selectedIndex:-1}),Pe(Oe(n),"onSelect",(function(e){var t=n.state.selectedIndex,r=e.value;n.setState({selectedIndex:t===r?-1:r})})),n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.keywords,n=e.getViewer,a=e.duration,o=this.state.selectedIndex,i=ne(t),s=t[o],l=s?{selectedOptions:[i[o]]}:{};return r.createElement(r.Fragment,null,r.createElement(me,Ee({onSelect:this.onSelect,options:i},l,{buttonProps:Pe({},y.c,y.f.KEYWORDS.SELECT)})),!!s&&Array.isArray(s.appears)&&s.appears.length>0&&r.createElement(ve,{duration:a,getViewer:n,interactionTarget:y.f.KEYWORDS.TIMELINE,text:s.text,timeslices:s.appears}))}}])&&Se(n.prototype,a),o&&Se(n,o),t}(r.PureComponent);n(801);function Ie(e){return(Ie="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Ne(t).call(this,e),n=!a||"object"!==Ie(a)&&"function"!==typeof a?Te(r):a,Re(Te(n),"toggleIsEditing",(function(){n.setState((function(e){return{isEditing:!e.isEditing}}))})),Re(Te(n),"onAdd",(function(e){var t=n.props.transcript,r=n.state.adds,a=[],o=new RegExp("\\b".concat(e.text,"\\b"),"i");t&&Array.isArray(t.entries)&&t.entries.forEach((function(e){var t=e.text,n=e.appears;t&&o.test(t)&&Array.isArray(n)&&n.length>0&&a.push(n[0])})),e.appears=a,r.push(e),n.setState({adds:r.slice(0)})})),Re(Te(n),"onDelete",(function(e){var t=n.state,r=t.adds,a=t.removes,o=r.findIndex((function(t){return t===e}));o>-1?(r.splice(o,1),n.setState({adds:r.slice(0)})):(a.push(e),n.setState({removes:a.slice(0)}))})),Re(Te(n),"onSave",(function(){var e=n.props.onSkillChange,t=n.state,r=t.removes,a=t.adds;n.toggleIsEditing(),(r.length>0||a.length>0)&&(n.setState({isLoading:!0}),e(r,a))})),Re(Te(n),"onCancel",(function(){n.resetState(n.props)})),n.state={keywords:e.card.entries,adds:[],removes:[],isEditing:e.hasError,hasError:e.hasError,isLoading:!1},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(t,e),n=t,(r=[{key:"resetState",value:function(e){this.setState({keywords:e.card.entries,adds:[],removes:[],isEditing:!1,hasError:!1,isLoading:!1})}},{key:"render",value:function(){var e=this.props,t=e.card,n=e.getViewer,r=e.isEditable,o=t.duration,i=this.state,s=i.isEditing,l=i.isLoading,c=i.hasError,u=i.keywords,p=i.removes,m=i.adds,h=u.length>0,b=u.filter((function(e){return!p.includes(e)})).concat(m),v=k()("be-keyword-edit",{"be-keyword-is-editing":s});return a.a.createElement(T.a,{className:"be-keywords",isLoading:l},h&&r&&!l&&a.a.createElement(A.a,{text:a.a.createElement(d.b,f.a.editLabel)},a.a.createElement(O.a,{className:v,"data-resin-target":y.f.KEYWORDS.EDIT,onClick:this.toggleIsEditing,type:"button"},a.a.createElement(x.a,null))),c&&a.a.createElement(ee.a,{title:a.a.createElement(d.b,f.a.sidebarSkillsErrorTitle)},a.a.createElement(d.b,f.a.sidebarSkillsErrorContent)),s&&a.a.createElement(ce,{keywords:b,onAdd:this.onAdd,onCancel:this.onCancel,onDelete:this.onDelete,onSave:this.onSave}),!s&&h&&a.a.createElement(_e,{duration:o,getViewer:n,keywords:b}),!s&&!h&&a.a.createElement(d.b,f.a.skillNoInfoFoundError))}}])&&je(n.prototype,r),o&&je(n,o),t}(r.PureComponent),Me=n(34),ze=function(e){var t=e.className,n=void 0===t?"":t,a=e.color,o=void 0===a?"#000000":a,i=e.height,s=void 0===i?16:i,l=e.title,c=e.width,u=void 0===c?16:c;return r.createElement(P.a,{className:"icon-minus ".concat(n),height:s,title:l,viewBox:"0 0 16 16",width:u},r.createElement("path",{d:"M2 5h8v2H2z",fill:o,fillRule:"evenodd"}))},Le=(n(802),function(e){var t=e.face,n=e.selected,a=e.isEditing,o=e.onDelete,i=e.onSelect,s=!!n,l=t===n,c=s&&l&&!a,u=k()("be-face-wrapper",{"be-face-unselected":!a&&s&&!l});return r.createElement("div",{className:u},r.createElement(O.a,{className:"be-face","data-resin-target":y.f.FACES.FACE,onClick:function(){return!a&&i(t)},type:"button"},r.createElement("img",{alt:t.text,src:t.image_url,title:t.text}),c&&r.createElement(ze,{color:E.D})),a&&r.createElement(O.a,{className:"be-face-delete","data-resin-target":y.f.FACES.DELETE,onClick:function(){return o(t)},type:"button"},r.createElement(Me.a,{color:E.C,height:16,width:16})))});n(803);function Fe(e){return(Fe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=He(t).call(this,e),n=!a||"object"!==Fe(a)&&"function"!==typeof a?Be(r):a,Ue(Be(n),"toggleIsEditing",(function(){n.setState((function(e){return{isEditing:!e.isEditing}}))})),Ue(Be(n),"onSelect",(function(e){var t=n.state.selected;n.setState({selected:t===e?void 0:e})})),Ue(Be(n),"onDelete",(function(e){var t=n.state.removes;t.push(e),n.setState({removes:t.slice(0)})})),Ue(Be(n),"onSave",(function(){var e=n.props.onSkillChange,t=n.state.removes;n.toggleIsEditing(),t.length>0&&(n.setState({isLoading:!0}),e(t))})),Ue(Be(n),"onCancel",(function(){n.resetState(n.props)})),n.state={faces:e.card.entries,removes:[],isEditing:e.hasError,hasError:e.hasError,isLoading:!1},n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,e),n=t,(a=[{key:"resetState",value:function(e){this.setState({faces:e.card.entries,removes:[],isEditing:!1,selected:void 0,hasError:!1,isLoading:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.card,a=t.isEditable,o=t.getViewer,i=this.state,s=i.selected,l=i.faces,c=i.removes,u=i.isEditing,p=i.hasError,m=i.isLoading,h=n.duration,b=l.length>0,v=l.filter((function(e){return!c.includes(e)})),g=k()("be-face-edit",{"be-faces-is-editing":u});return r.createElement(T.a,{className:"be-faces",isLoading:m},b&&a&&!m&&r.createElement(A.a,{text:r.createElement(d.b,f.a.editLabel)},r.createElement(O.a,{className:g,"data-resin-target":y.f.FACES.EDIT,onClick:this.toggleIsEditing,type:"button"},r.createElement(x.a,null))),p&&r.createElement(ee.a,{title:r.createElement(d.b,f.a.sidebarSkillsErrorTitle)},r.createElement(d.b,f.a.sidebarSkillsErrorContent)),b?v.map((function(t,n){return r.createElement(Le,{key:n,face:t,isEditing:u,onDelete:e.onDelete,onSelect:e.onSelect,selected:s})})):r.createElement(d.b,f.a.skillNoInfoFoundError),!!s&&!u&&Array.isArray(s.appears)&&s.appears.length>0&&r.createElement(ve,{duration:h,getViewer:o,interactionTarget:y.f.FACES.TIMELINE,timeslices:s.appears}),u&&r.createElement("div",{className:"be-faces-buttons"},r.createElement(V.a,{"data-resin-target":y.f.FACES.EDIT_CANCEL,onClick:this.onCancel,type:"button"},r.createElement(d.b,f.a.cancel)),r.createElement(F.a,{"data-resin-target":y.f.FACES.EDIT_SAVE,onClick:this.onSave,type:"button"},r.createElement(d.b,f.a.save))))}}])&&Ve(n.prototype,a),o&&Ve(n,o),t}(r.PureComponent),Ye=function(e){var t=e.card,n=e.cards,r=e.hasError,o=e.isEditable,i=e.onSkillChange,s=e.getViewer;switch(t.skill_card_type){case E.te:return a.a.createElement(De,{card:t,getViewer:s,hasError:r,isEditable:o,onSkillChange:i,transcript:o?n.find((function(e){return e.skill_card_type===E.ye})):void 0});case E.xe:case E.se:return a.a.createElement(We,{card:t,getViewer:s,hasError:r,isEditable:o,onSkillChange:i});case E.ye:return a.a.createElement($,{card:t,getViewer:s,hasError:r,isEditable:o,onSkillChange:i});case E.ue:return a.a.createElement(w,{card:t});default:return null}},Ge=function(e){var t=e.file,n=e.cards,a=e.errors,o=e.getViewer,i=e.onSkillChange,s=t.permissions,l=!!(void 0===s?{}:s).can_upload;return n.map((function(e,s){e.error&&!e.status&&(e.skill_card_type=E.ue,e.status={code:E.re},delete e.error);var c=e.id||b()("card_"),u=Object(g.b)(t,e),p=function(e){switch(e.skill_card_type){case E.te:return y.f.KEYWORDS.CARD;case E.se:case E.xe:return y.f.FACES.CARD;case E.ye:return y.f.TRANSCRIPTS.CARD;default:return""}}(e),m=function(e){var t=e.skill_card_type,n=e.skill_card_title,a=void 0===n?{}:n,o=a.code,i=a.message,s="".concat(t,"Skill"),l=f.a[s]||f.a.defaultSkill;switch(o){case"skills_faces":return r.createElement(d.b,f.a.faceSkill);case"skills_transcript":return r.createElement(d.b,f.a.transcriptSkill);case"skills_topics":return r.createElement(d.b,f.a.topicsSkill);case"skills_status":return r.createElement(d.b,f.a.statusSkill);case"skills_error":return r.createElement(d.b,f.a.error);default:return i||r.createElement(d.b,l)}}(e),h=Array.isArray(e.entries)?e.entries.length>0:u;return u?r.createElement(v.a,{key:c,interactionTarget:p,isOpen:h,title:m},r.createElement(Ye,{card:e,cards:n,getViewer:o,hasError:!!a[s],isEditable:l,onSkillChange:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(void 0,[s].concat(t))}})):null}))},Qe=n(93),Xe=n(77),Je=n(222),qe=n(94),Ze=n(133);n(804);function $e(e){return($e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(n,!0).forEach((function(t){it(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st="".concat(E.Qd,"_").concat(Qe.a);Object(Xe.b)(st);var lt=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=rt(t).call(this,e),n=!a||"object"!==$e(a)&&"function"!==typeof a?at(r):a,it(at(n),"state",{errors:{}}),it(at(n),"fetchSkillsSuccessCallback",(function(e){n.updatePreviewTranscript(e),n.setState({cards:e})})),it(at(n),"updatePreviewTranscript",(function(e){var t=n.props,r=t.getPreview,a=t.getViewer,o=r?r():null,i=a?a():null,s=e.find((function(e){return e.skill_card_type===E.ye}));s&&o&&(i?"function"===typeof i.loadAutoGeneratedCaptions&&i.loadAutoGeneratedCaptions(s):o.addListener("load",(function(e){var t=e.viewer;"function"===typeof t.loadAutoGeneratedCaptions&&t.loadAutoGeneratedCaptions(s)})))})),it(at(n),"onSaveSuccessHandler",(function(e,t){var r=tt({},n.state.errors);delete r[e],n.updatePreviewTranscript(t),n.setState({cards:t,errors:r})})),it(at(n),"onSaveErrorHandler",(function(e){var t=tt({},n.state.errors);t[e]=!0,n.setState({errors:t})})),it(at(n),"onSave",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=n.props,i=o.api,s=o.file,c=n.state.cards,u=void 0===c?[]:c,d=u[e],p="/cards/".concat(e),f=[],m=l()(s,E.Fc,!1);if(m&&d){if(Array.isArray(a)&&a.forEach((function(e){var t=e.replaced,n=e.replacement,r=d.entries.findIndex((function(e){return e===t}));r>-1&&f.push({op:"replace",path:"".concat(p,"/entries/").concat(r),value:n})})),Array.isArray(t)){var h=[];t.forEach((function(e){var t=d.entries.findIndex((function(t){return t===e}));t>-1&&h.push(t)})),h.sort((function(e,t){return t-e})).forEach((function(e){f.push({op:"remove",path:"".concat(p,"/entries/").concat(e)})}))}Array.isArray(r)&&r.forEach((function(e){f.push({op:"add",path:"".concat(p,"/entries/-"),value:e})})),0!==f.length&&(f.splice(0,0,{op:"test",path:p,value:d}),i.getMetadataAPI(!1).updateSkills(s,f,(function(t){n.onSaveSuccessHandler(e,t)}),(function(){n.onSaveErrorHandler(e)})))}})),n.props.logger.onReadyMetric({endMarkName:st}),n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.api,n=e.file;t.getMetadataAPI(!1).getSkills(n,this.fetchSkillsSuccessCallback,u.a)}},{key:"componentDidUpdate",value:function(e){var t=e.refreshIdentity,n=this.props,r=n.api,a=n.file;n.refreshIdentity!==t&&r.getMetadataAPI(!1).getSkills(a,this.fetchSkillsSuccessCallback,u.a)}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.getViewer,a=e.elementId,o=this.state,i=o.cards,s=o.errors;return r.createElement(m.a,{className:"bcs-skills",elementId:a,sidebarView:E.fe,title:r.createElement(d.b,f.a.sidebarSkillsTitle)},i?r.createElement(Ge,{cards:i,errors:s,file:t,getViewer:n,onSkillChange:this.onSave}):r.createElement(p.a,null))}}])&&nt(n.prototype,a),o&&nt(n,o),t}(r.PureComponent);t.default=i()([Object(Ze.a)(E.Qd),Object(qe.a)(E.Qd),Je.b])(lt)}}]);
//# sourceMappingURL=6.a1cf50ca.chunk.js.map