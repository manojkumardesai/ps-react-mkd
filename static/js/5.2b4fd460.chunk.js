(this["webpackJsonpps-react-mkd"]=this["webpackJsonpps-react-mkd"]||[]).push([[5],{711:function(e,t,n){"use strict";var a=n(0),r=n(5);t.a=function(e){var t=e.className,n=void 0===t?"":t,o=e.color,i=void 0===o?"#999":o,c=e.height,l=void 0===c?14:c,s=e.title,u=e.width,d=void 0===u?14:u;return a.createElement(r.a,{className:"icon-edit ".concat(n),height:l,title:s,viewBox:"0 0 14 14",width:d},a.createElement("path",{className:"fill-color",d:"M3.21 7.89l6.47-6.48a2 2 0 0 1 2.88 2.78h-.05L6 10.72 3.21 7.89zM2.24 9l2.83 2.83L1.67 13c-.52.18-.79-.1-.62-.61z",fill:i}))}},713:function(e,t,n){var a=n(228);e.exports=function(e,t){return a(e,t)}},721:function(e,t,n){"use strict";var a=n(0),r=n(7),o=n.n(r),i=n(21),c=n.n(i),l=n(734),s=n.n(l),u=n(229),d=n(155),p=n(36),f=n(10);n(735);function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=v(t).call(this,e),n=!r||"object"!==m(r)&&"function"!==typeof r?b(a):r,E(b(n),"toggleVisibility",(function(){var e=n.props,t=e.onOpen,a=e.onClose;n.setState((function(e){return{isOpen:!e.isOpen}}),(function(){var e=n.state.isOpen;e&&t?t(b(n)):!e&&a&&a(b(n))}))})),n.state={isOpen:e.isOpen},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.state.isOpen,t=this.props,n=t.animationDuration,r=t.buttonProps,i=void 0===r?{}:r,l=t.children,m=t.className,y=t.isBordered,v=t.hasStickyHeader,b=t.headerActionItems,g=t.title,E=o()("collapsible-card",{"is-open":e},{"is-bordered":y},m),O=i[u.a],C=c()(i,[u.a]),w=v?"collapsible-card-header has-sticky-header":"collapsible-card-header";return O&&(C[u.a]="".concat(O).concat(e?"collapse":"expand")),a.createElement("div",{className:E},a.createElement("div",{className:w},a.createElement(p.a,h({},C,{className:"collapsible-card-title",onClick:this.toggleVisibility,type:"button"}),g,a.createElement(d.a,{className:"collapsible-card-header-caret",color:f.f,width:8})),e&&b),a.createElement(s.a,{duration:n,height:e?"auto":0},a.createElement("div",{className:"collapsible-card-content"},l)))}}])&&y(n.prototype,r),i&&y(n,i),t}(a.PureComponent);E(O,"defaultProps",{buttonProps:{},className:"",isOpen:!0,animationDuration:100}),t.a=O},734:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=s(n(0)),c=s(n(12)),l=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"},p=["animateOpacity","animationStateClasses","applyInlineTransitions","children","contentClassName","delay","duration","easing","height","onAnimationEnd","onAnimationStart"];function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(!n.length)return e;for(var r={},o=Object.keys(e),i=0;i<o.length;i++){var c=o[i];-1===n.indexOf(c)&&(r[c]=e[c])}return r}function m(e){e.forEach((function(e){return cancelAnimationFrame(e)}))}function h(e){return!isNaN(parseFloat(e))&&isFinite(e)}function y(e){return"string"===typeof e&&e.search("%")===e.length-1&&h(e.substr(0,e.length-1))}function v(e,t){e&&"function"===typeof e&&e(t)}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.animationFrameIDs=[];var a="auto",o="visible";h(e.height)?(a=e.height<0||"0"===e.height?0:e.height,o="hidden"):y(e.height)&&(a="0%"===e.height?0:e.height,o="hidden"),n.animationStateClasses=r({},d,e.animationStateClasses);var i=n.getStaticStateClasses(a);return n.state={animationStateClasses:i,height:a,overflow:o,shouldUseTransitions:!1},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this.state.height;this.contentElement&&this.contentElement.style&&this.hideContent(e)}},{key:"componentDidUpdate",value:function(e,t){var n=this,a=this.props,r=a.delay,o=a.duration,i=a.height,c=a.onAnimationEnd,s=a.onAnimationStart;if(this.contentElement&&i!==e.height){var d;this.showContent(t.height),this.contentElement.style.overflow="hidden";var p=this.contentElement.offsetHeight;this.contentElement.style.overflow="";var f=o+r,b=null,g={height:null,overflow:"hidden"},E="auto"===t.height;h(i)?(b=i<0||"0"===i?0:i,g.height=b):y(i)?(b="0%"===i?0:i,g.height=b):(b=p,g.height="auto",g.overflow=null),E&&(g.height=b,b=p);var O=(0,l.default)((u(d={},this.animationStateClasses.animating,!0),u(d,this.animationStateClasses.animatingUp,"auto"===e.height||i<e.height),u(d,this.animationStateClasses.animatingDown,"auto"===i||i>e.height),u(d,this.animationStateClasses.animatingToHeightZero,0===g.height),u(d,this.animationStateClasses.animatingToHeightAuto,"auto"===g.height),u(d,this.animationStateClasses.animatingToHeightSpecific,g.height>0),d)),C=this.getStaticStateClasses(g.height);this.setState({animationStateClasses:O,height:b,overflow:"hidden",shouldUseTransitions:!E}),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),E?(g.shouldUseTransitions=!0,m(this.animationFrameIDs),this.animationFrameIDs=function(e){var t=[];return t[0]=requestAnimationFrame((function(){t[1]=requestAnimationFrame((function(){e()}))})),t}((function(){n.setState(g),v(s,{newHeight:g.height})})),this.animationClassesTimeoutID=setTimeout((function(){n.setState({animationStateClasses:C,shouldUseTransitions:!1}),n.hideContent(g.height),v(c,{newHeight:g.height})}),f)):(v(s,{newHeight:b}),this.timeoutID=setTimeout((function(){g.animationStateClasses=C,g.shouldUseTransitions=!1,n.setState(g),"auto"!==i&&n.hideContent(b),v(c,{newHeight:b})}),f))}}},{key:"componentWillUnmount",value:function(){m(this.animationFrameIDs),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),this.timeoutID=null,this.animationClassesTimeoutID=null,this.animationStateClasses=null}},{key:"showContent",value:function(e){0===e&&(this.contentElement.style.display="")}},{key:"hideContent",value:function(e){0===e&&(this.contentElement.style.display="none")}},{key:"getStaticStateClasses",value:function(e){var t;return(0,l.default)((u(t={},this.animationStateClasses.static,!0),u(t,this.animationStateClasses.staticHeightZero,0===e),u(t,this.animationStateClasses.staticHeightSpecific,e>0),u(t,this.animationStateClasses.staticHeightAuto,"auto"===e),t))}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.animateOpacity,o=n.applyInlineTransitions,c=n.children,s=n.className,d=n.contentClassName,m=n.duration,h=n.easing,y=n.delay,v=n.style,b=this.state,g=b.height,E=b.overflow,O=b.animationStateClasses,C=b.shouldUseTransitions,w=r({},v,{height:g,overflow:E||v.overflow});C&&o&&(w.transition="height "+m+"ms "+h+" "+y+"ms",v.transition&&(w.transition=v.transition+", "+w.transition),w.WebkitTransition=w.transition);var S={};a&&(S.transition="opacity "+m+"ms "+h+" "+y+"ms",S.WebkitTransition=S.transition,0===g&&(S.opacity=0));var P=(0,l.default)((u(e={},O,!0),u(e,s,s),e));return i.default.createElement("div",r({},f.apply(void 0,[this.props].concat(p)),{"aria-hidden":0===g,className:P,style:w}),i.default.createElement("div",{className:d,style:S,ref:function(e){return t.contentElement=e}},c))}}]),t}(i.default.Component);b.propTypes={animateOpacity:c.default.bool,animationStateClasses:c.default.object,applyInlineTransitions:c.default.bool,children:c.default.any.isRequired,className:c.default.string,contentClassName:c.default.string,duration:c.default.number,delay:c.default.number,easing:c.default.string,height:function(e,t,n){var r=e[t];return"number"===typeof r&&r>=0||y(r)||"auto"===r?null:new TypeError('value "'+r+'" of type "'+("undefined"===typeof r?"undefined":a(r))+'" is invalid type for '+t+" in "+n+'. It needs to be a positive number, string "auto" or percentage string (e.g. "15%").')},onAnimationEnd:c.default.func,onAnimationStart:c.default.func,style:c.default.object},b.defaultProps={animateOpacity:!1,animationStateClasses:d,applyInlineTransitions:!0,duration:250,delay:0,easing:"ease",style:{}},t.default=b},735:function(e,t,n){},817:function(e,t,n){},819:function(e,t,n){},820:function(e,t,n){},821:function(e,t,n){},822:function(e,t,n){},823:function(e,t,n){},824:function(e,t,n){},825:function(e,t,n){},826:function(e,t,n){},829:function(e,t,n){},831:function(e,t,n){},832:function(e,t,n){},974:function(e,t,n){"use strict";n.r(t),n.d(t,"MetadataSidebarComponent",(function(){return Xt}));var a=n(0),r=n(73),o=n.n(r),i=n(8),c=n.n(i),l=n(6),s=n.n(l),u=n(2),d=(n(45),n(5)),p=function(e){var t=e.className,n=void 0===t?"":t,r=e.color,o=void 0===r?"#0061D5":r,i=e.title,c=e.width,l=void 0===c?140:c;return a.createElement(d.a,{className:"icon-add-metadata-empty-state ".concat(n),title:i,viewBox:"0 0 140 105",width:l},a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M92 1.134V.492a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629a1.005 1.005 0 0 1-.366-.366h-.644a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm-90.5 83.5v-.642a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629A1.005 1.005 0 0 1 1.134 86H.49a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm136 5.5v-.642a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629a1.005 1.005 0 0 1-.366-.366h-.644a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm-29-78v-.642a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629a1.005 1.005 0 0 1-.366-.366h-.644a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm-80 3.5v-.642a.501.501 0 0 1 1-.002v.644c.152.088.278.214.366.366h.644a.5.5 0 0 1 .49.5c0 .276-.215.5-.49.5h-.644a1.005 1.005 0 0 1-.366.366v.644a.5.5 0 0 1-.5.49.506.506 0 0 1-.5-.505v-.629a1.005 1.005 0 0 1-.366-.366h-.644a.5.5 0 0 1-.49-.5c0-.276.215-.5.49-.5h.644c.088-.152.214-.278.366-.366zm-5.563 8.075v-.402a.313.313 0 0 1 .625 0v.402a.628.628 0 0 1 .23.229h.401c.17 0 .307.144.307.312a.308.308 0 0 1-.307.313h-.402a.628.628 0 0 1-.229.228v.402a.313.313 0 0 1-.625.004v-.406a.628.628 0 0 1-.228-.229h-.402A.313.313 0 0 1 22 24.25c0-.173.134-.313.307-.313h.402a.628.628 0 0 1 .229-.228zm-11.5 79v-.402a.313.313 0 0 1 .626 0v.402a.628.628 0 0 1 .228.228h.402c.17 0 .307.145.307.313a.308.308 0 0 1-.307.313h-.402a.628.628 0 0 1-.229.228v.402a.313.313 0 0 1-.624.004v-.406a.628.628 0 0 1-.23-.228h-.401a.313.313 0 0 1-.307-.313c0-.173.134-.313.307-.313h.402a.628.628 0 0 1 .229-.228z",fill:o}),a.createElement("path",{d:"M17 54c0-3.866 3.133-7 6.992-7h106.016c3.861 0 6.992 3.142 6.992 7 0 3.866-3.133 7-6.992 7H23.992C20.131 61 17 57.858 17 54zm-6 20c0-3.866 3.133-7 6.992-7h106.016c3.861 0 6.992 3.142 6.992 7 0 3.866-3.133 7-6.992 7H17.992C14.131 81 11 77.858 11 74zM5 94c0-3.866 3.133-7 6.992-7h106.016c3.861 0 6.992 3.142 6.992 7 0 3.866-3.133 7-6.992 7H11.992C8.131 101 5 97.858 5 94z",fill:o,fillOpacity:".1"}),a.createElement("path",{d:"M130 61a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm-6 20a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm0-2a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm-6 22a7 7 0 1 1 0-14 7 7 0 0 1 0 14z",fill:o}),a.createElement("path",{d:"M117.944 95.189l3.215-3.832a.996.996 0 0 1 1.407-.121c.423.355.475.99.126 1.406l-3.861 4.6a.993.993 0 0 1-1.4.128l-3.078-2.583a.993.993 0 0 1-.116-1.403 1 1 0 0 1 1.401-.13l2.306 1.935zm12-40l3.215-3.832a.996.996 0 0 1 1.407-.121c.423.355.475.99.126 1.406l-3.861 4.6a.993.993 0 0 1-1.4.128l-3.078-2.583a.993.993 0 0 1-.116-1.403 1 1 0 0 1 1.401-.13l2.306 1.935z",fill:"#FFF"}),a.createElement("path",{d:"M25 38.49c0-.823.668-1.49 1.509-1.49H54.77c.833 0 1.788.605 2.139 1.365l3.207 6.942c.348.754-.036 1.365-.86 1.365H26.491c-.824 0-1.491-.665-1.491-1.49V38.49z",fill:"#FFF",stroke:o,strokeWidth:"2"}),a.createElement("path",{d:"M27 40.49c0-.823.668-1.49 1.494-1.49h25.164c.825 0 1.751.62 2.07 1.386l2.869 6.9c.318.766-.096 1.386-.933 1.386H28.51A1.498 1.498 0 0 1 27 47.182V40.49z",fill:"#22A7F0",fillOpacity:".1"}),a.createElement("rect",{fill:"#FFF",height:"53.197",rx:"1.5",stroke:o,strokeWidth:"2",width:"80",x:"25",y:"43"}),a.createElement("path",{d:"M27 82.214c0-.827.657-1.34 1.475-1.185 0 0 3.614 1.268 23.858 1.268 12.585 0 18.165 3.312 25.334 3.312 14.499 0 23.954-4.331 23.954-4.331.762-.31 1.379.115 1.379.936v10.284c0 .827-.68 1.497-1.501 1.497H28.501A1.503 1.503 0 0 1 27 92.498V82.214z",fill:o,fillOpacity:".1"})))},f=n(48),m=(n(817),function(e){var t=e.canAdd;return a.createElement("div",{className:"metadata-instance-editor-no-instances"},a.createElement(p,null),a.createElement("p",{className:"metadata-instance-editor-no-instances--call-out"},a.createElement(u.b,f.a.noMetadata)),t&&a.createElement("p",{className:"metadata-instance-editor-no-instances--how-add-template"},a.createElement(u.b,f.a.noMetadataAddTemplate)))}),h=n(220),y=n(7),v=n.n(y),b=n(713),g=n.n(b),E=n(47),O=n.n(E),C=n(721),w=n(736),S=n(221),P=n(18),j=n(24),k=n(10),T=function(e){var t,n=e.className,r=void 0===n?"":n,o=e.color,i=e.title,c=e.type,l=e.width,s=void 0===l?16:l,u=e.height,p=void 0===u?16:u;return t=o||("cascade"===c?k.j:k.b),a.createElement(d.a,{className:"icon-metadata ".concat(r),height:p,title:i,viewBox:"0 0 16 16",width:s},a.createElement("path",{className:"fill-color",d:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zm-2.515-5.879L6.2 7.263l1.376 2.202a.5.5 0 0 0 .848 0L9.8 7.263l.715 2.858a.5.5 0 0 0 .97-.242l-1-4a.5.5 0 0 0-.909-.144L8 8.257 6.424 5.735a.5.5 0 0 0-.91.144l-1 4a.5.5 0 0 0 .971.242z",fill:t,fillRule:"evenodd"}))},N=n(314),M=n(711),A=n(17);n(819);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var D=function(e){var t=e.className,n=void 0===t?"":t,r=e.description,o=e.isDisabled,i=e.isOn,c=e.isToggleRightAligned,l=void 0!==c&&c,s=e.label,u=e.name,d=e.onBlur,p=e.onChange,f=F(e,["className","description","isDisabled","isOn","isToggleRightAligned","label","name","onBlur","onChange"]),m=v()("toggle-container",n,{"is-toggle-right-aligned":l}),h=[a.createElement("div",{key:"toggle-simple-switch",className:"toggle-simple-switch"}),a.createElement("div",{key:"toggle-simple-label",className:"toggle-simple-label"},s)];return l&&(h=h.reverse()),a.createElement("div",{className:m},a.createElement("label",{className:"toggle-simple"},a.createElement("input",_({checked:i,className:"toggle-simple-input",disabled:o,name:u,onBlur:d,onChange:p,type:"checkbox"},f)),h),r?a.createElement("div",{className:"toggle-simple-description"},r):null)};var R=n(226);function I(e){return(I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function B(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=z(t).call(this,e),n=!r||"object"!==I(r)&&"function"!==typeof r?L(a):r,V(L(n),"onChangeHandler",(function(e){var t=e.target,a=n.props.onChange;t instanceof HTMLInputElement&&n.setState({value:t.value}),a&&a(e)})),n.state={value:e.value},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.name,o=this.state.value;return a.createElement("div",{className:"radio-group ".concat(n),onChange:this.onChangeHandler},a.Children.map(t,(function(e){var t=e.props,n=t.value,i=H(t,["value"]);return a.createElement(R.a,x({isSelected:n===o,name:r,value:n},i))})))}}])&&B(n.prototype,r),o&&B(n,o),t}(a.Component);V(U,"defaultProps",{className:""});var q=U;var W=n(737),J=n(231);n(820);function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Q=function(e){var t=e.canEdit,n=e.isCascadingEnabled,r=e.isCascadingOverwritten,o=e.isCustomMetadata,i=e.onCascadeToggle,c=e.onCascadeModeChange,l=e.shouldShowCascadeOptions,s=n?a.createElement("div",{className:"metadata-cascade-notice"},a.createElement(u.b,f.a.metadataCascadePolicyEnabledInfo)):null;return t?a.createElement(a.Fragment,null,a.createElement("div",{className:"metadata-cascade-editor"},a.createElement("div",{className:"metadata-cascade-enable"},a.createElement("div",null,a.createElement(u.b,Z({tagName:"strong"},f.a.enableCascadePolicy)),!o&&a.createElement(D,{className:"metadata-cascade-toggle ".concat(n?"cascade-on":"cascade-off"),isOn:n,label:"",onChange:function(e){return i(e.target.checked)}})),o?a.createElement("div",null,a.createElement(u.b,f.a.cannotApplyCascadePolicyText)):a.createElement("div",{className:"cascade-policy-text"},a.createElement(u.b,f.a.applyCascadePolicyText),"\xa0",a.createElement(W.a,{className:"cascade-policy-learnmore-link",href:"https://community.box.com/t5/Organizing-and-Tracking-Content/Metadata/ta-p/30765",target:"_blank"},a.createElement(u.b,f.a.cascadePolicyLearnMore))))),l&&a.createElement("div",{className:"metadata-cascade-editor"},a.createElement("div",{className:"metadata-cascading-mode"},a.createElement(u.b,f.a.cascadePolicyModeQuestion),a.createElement("div",{className:"metadata-operation-not-immediate"},a.createElement(J.a,null),a.createElement("span",null,a.createElement(u.b,f.a.operationNotImmediate))),a.createElement(q,{className:"metadata-cascading-options",onChange:function(e){return c("overwrite"===e.target.value)},value:r?"overwrite":"skip"},a.createElement(R.a,{label:a.createElement(u.b,f.a.cascadePolicySkipMode),value:"skip"}),a.createElement(R.a,{label:a.createElement(u.b,f.a.cascadePolicyOverwriteMode),value:"overwrite"}))))):s},$=n(237);function G(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var X=function(e){return!!e.isHidden||!!e.hidden},Y=function(e,t,n){if(!t)return G(e);var a=e.filter((function(e){return e.templateKey===t})),r=a[0]?a[0].fields:null;if(n&&r){var o=function(e){return"string"===typeof e?new Set([e]):new Set(e)}(n);a[0].fields=r.filter((function(e){return o.has(e.id)}))}return a},ee=(n(821),function(e){var t=e.canEdit,n=e.data,r=void 0===n?{}:n,o=e.errors,i=e.onFieldChange,c=e.onFieldRemove,l=e.template.fields,s=void 0===l?[]:l,d=s.length>0,p=d&&s.some((function(e){return!X(e)})),m=!d,h=d&&!p;return a.createElement(a.Fragment,null,p&&s.map((function(e){return a.createElement($.a,{key:e.id,canEdit:t,dataKey:e.key,dataValue:r[e.key],description:e.description,displayName:e.displayName,error:o[e.key],isHidden:X(e),onChange:function(n,a){t&&i&&i(n,a,e.type)},onRemove:function(e){t&&c&&c(e)},options:e.options,type:e.type})})),h&&a.createElement("div",{className:"attributes-hidden-message"},a.createElement(u.b,f.a.allAttributesAreHidden)),m&&a.createElement("div",{className:"no-attributes-message"},a.createElement(u.b,f.a.noAttributesForTemplate)))}),te=n(22),ne=n(135),ae=n(91),re=n(225),oe=n(160);n(822);function ie(e){return(ie="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ue(e,t){return!t||"object"!==ie(t)&&"function"!==typeof t?pe(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=function(e){function t(){var e,n;le(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return me(pe(n=ue(this,(e=de(t)).call.apply(e,[this].concat(o)))),"state",{key:"",value:"",error:""}),me(pe(n),"onKeyChange",(function(e){n.onChange(e,"key")})),me(pe(n),"onValueChange",(function(e){n.onChange(e,"value")})),me(pe(n),"onAdd",(function(){var e=n.state,t=e.key,r=e.value,o=n.props,i=o.onAdd,c=o.properties;Object.prototype.hasOwnProperty.call(c,t)?n.setState({error:a.createElement(u.b,f.a.customErrorDuplicateKey)}):t.startsWith("$")?n.setState({error:a.createElement(u.b,f.a.customErrorInternalKey)}):t?i(t,r):n.setState({error:a.createElement(u.b,f.a.customErrorRequired)})})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,e),n=t,(r=[{key:"onChange",value:function(e,t){var n=e.currentTarget;this.setState(me({error:""},t,n.value))}},{key:"render",value:function(){var e=this.props,t=e.intl,n=e.isCancellable,r=e.onCancel,o=this.state,i=o.key,c=o.value,l=o.error;return a.createElement("div",{className:"custom-new-field"},a.createElement("div",{className:"custom-new-field-header"},a.createElement(u.b,ce({tagName:"h5"},f.a.customNewField)),a.createElement(ae.a,{text:a.createElement(u.b,f.a.customNewFieldMessage)},a.createElement("div",{tabIndex:"-1"},a.createElement(oe.a,{color:"#777",height:18,width:18})))),a.createElement(ne.a,{error:l,isRequired:!0,label:a.createElement(u.b,f.a.customKey),onChange:this.onKeyChange,placeholder:t.formatMessage(f.a.customKeyPlaceholder),type:"text",value:i}),a.createElement(ne.a,{hideOptionalLabel:!0,label:a.createElement(u.b,f.a.customValue),onChange:this.onValueChange,placeholder:t.formatMessage(f.a.customValuePlaceholder),type:"text",value:c}),a.createElement("div",{className:"custom-new-field-actions"},n&&a.createElement(te.a,{"data-resin-target":"metadata-customfieldcancel",onClick:r,type:"button"},a.createElement(u.b,re.a.cancel)),a.createElement(te.a,{"data-resin-target":"metadata-customfieldadd",onClick:this.onAdd,type:"button"},a.createElement(u.b,f.a.customAdd))))}}])&&se(n.prototype,r),o&&se(n,o),t}(a.PureComponent),ye=Object(u.g)(he),ve=n(232),be=n(307),ge=n(306),Ee=(n(823),Object(u.g)((function(e){var t=e.intl,n=e.canEdit,r=e.isLast,o=e.dataKey,i=e.dataValue,c=e.onAdd,l=e.onChange,s=e.onRemove,u=a.createElement(te.a,{"aria-label":t.formatMessage(f.a.customAdd),"data-resin-target":"metadata-customfieldnew",onClick:c,type:"button"},a.createElement(ge.a,{color:"#999"})),d=a.createElement(te.a,{"aria-label":t.formatMessage(f.a.customRemove),"data-resin-target":"metadata-customfieldremove",onClick:function(){s&&s(o)},type:"button"},a.createElement(be.a,{color:"#999"}));return a.createElement("div",{className:"metadata-instance-editor-field-custom"},a.createElement($.a,{canEdit:n,dataKey:o,dataValue:i,displayName:o,onChange:l,onRemove:function(e){return l(e,"")},type:"string"}),n&&a.createElement("div",{className:"metadata-instance-editor-field-custom-actions"},r?a.createElement(ve.a,null,d,u):d))}))),Oe=n(56);function Ce(e){return(Ce="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(n,!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Te(e,t,n){return t&&ke(e.prototype,t),n&&ke(e,n),e}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=Pe(t).call(this,e),n=!r||"object"!==Ce(r)&&"function"!==typeof r?je(a):r,Me(je(n),"onFieldChange",(function(e,t){var a=n.props,r=a.canEdit,o=a.onFieldChange;r&&o&&o(e,t,Oe.f)})),Me(je(n),"onFieldRemove",(function(e){var t=n.props,a=t.canEdit,r=t.onFieldRemove;a&&r&&r(e)})),Me(je(n),"onAddFieldToggle",(function(){n.setState((function(e){return{isAddFieldVisible:!e.isAddFieldVisible}}))})),n.state={isAddFieldVisible:!1,properties:Se({},e.data)},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,e),Te(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,a=t.properties;return g()(n,a)?null:{properties:Se({},n)}}}]),Te(t,[{key:"render",value:function(){var e=this,t=this.props.canEdit,n=this.state,r=n.isAddFieldVisible,o=n.properties,i=Object.keys(o),c=t&&(r||0===i.length);return a.createElement(a.Fragment,null,i.map((function(n,c){return a.createElement(Ee,{key:n,canEdit:t,dataKey:n,dataValue:o[n],isLast:!r&&c===i.length-1,onAdd:e.onAddFieldToggle,onChange:e.onFieldChange,onRemove:e.onFieldRemove})})),!c&&0===i.length&&a.createElement(m,null),c&&a.createElement(ye,{isCancellable:0!==i.length,onAdd:this.onFieldChange,onCancel:this.onAddFieldToggle,properties:this.props.data}))}}]),t}(a.PureComponent);Me(Ae,"defaultProps",{canEdit:!0,data:{}});var _e=Ae,Fe=n(49),De=(n(824),function(e){var t=e.onCancel,n=e.onConfirm,r=e.confirmationMessage;return a.createElement("div",{className:"metadata-instance-confirm-cover"},a.createElement("div",{className:"metadata-instance-confim-container"},a.createElement("p",{className:"metadata-instance-confirm-text"},r),a.createElement("div",{className:"metadata-instance-confirm-buttons"},a.createElement(te.a,{"data-resin-target":"metadata-confirmcancel",onClick:t,type:"button"},a.createElement(u.b,f.a.metadataCancel)),a.createElement(Fe.a,{"data-resin-target":"metadata-confirmremove",onClick:n,type:"button"},a.createElement(u.b,f.a.customRemove)))))}),Re=(n(825),function(e){var t=e.onCancel,n=e.onRemove,r=e.showSave;return a.createElement("div",{className:"metadata-instance-editor-footer"},a.createElement("div",{className:"metadata-instance-editor-footer-delete"},a.createElement(P.a,{"data-resin-target":"metadata-instanceremove",onClick:n,type:"button"},a.createElement(u.b,f.a.metadataRemoveTemplate))),a.createElement("div",{className:"metadata-instance-editor-footer-save-cancel"},a.createElement(te.a,{"data-resin-target":"metadata-instancecancel",onClick:t,type:"button"},a.createElement(u.b,f.a.metadataCancel)),r&&a.createElement(Fe.a,{"data-resin-target":"metadata-instancesave"},a.createElement(u.b,f.a.metadataSave))))}),Ie=n(161),xe=n(229);n(826);function He(e){return(He="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(n,!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Je=function(e,t,n){var a=e[t];switch(n){case Oe.c:return parseFloat(a);case Oe.d:return parseInt(a,10);default:return a}},Ze=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Ve(t).call(this,e),n=!o||"object"!==He(o)&&"function"!==typeof o?Ue(r):o,We(Ue(n),"onCancel",(function(){var e=n.props,t=e.id,a=e.onModification;n.setState(n.getState(n.props)),a&&a(t,!1)})),We(Ue(n),"onConfirmRemove",(function(){n.setState({shouldConfirmRemove:!0})})),We(Ue(n),"onConfirmCancel",(function(){n.setState({shouldConfirmRemove:!1})})),We(Ue(n),"onRemove",(function(){if(n.isEditing()){var e=n.props,t=e.id,a=e.onRemove;a&&(a(t),n.setState({isBusy:!0}))}})),We(Ue(n),"onSave",(function(){var e=n.props,t=e.cascadePolicy,a=e.data,r=e.id,o=e.isDirty,i=e.isCascadingPolicyApplicable,c=e.onSave,l=n.state,s=l.data,u=l.errors,d=l.isCascadingEnabled,p=l.isCascadingOverwritten;n.isEditing()&&o&&c&&!Object.keys(u).length&&(n.setState({isBusy:!0,isEditing:!1,shouldShowCascadeOptions:!1}),c(r,n.createJSONPatch(s,a),i?{canEdit:!!t&&t.canEdit,id:t?t.id:void 0,isEnabled:d,overwrite:p}:void 0,O()(s)))})),We(Ue(n),"onFieldChange",(function(e,t,r){var o=n.state,i=o.data,c=o.errors;if(n.isEditing()&&!g()(i[e],t)){var l=Object(Ie.a)(r,t),s=Le({},c),d=O()(i);d[e]=t,l?delete s[e]:s[e]=a.createElement(u.b,f.a.invalidInput),n.setState({data:d,errors:s},(function(){n.setDirty(r)}))}})),We(Ue(n),"onFieldRemove",(function(e){if(n.isEditing()){var t=n.state,a=t.data,r=t.errors,o=O()(a),i=Le({},r);delete o[e],delete i[e],n.setState({data:o,errors:i},n.setDirty)}})),We(Ue(n),"onCascadeToggle",(function(e){n.props.isCascadingPolicyApplicable&&n.setState({isCascadingEnabled:e,shouldShowCascadeOptions:e},n.setDirty)})),We(Ue(n),"onCascadeModeChange",(function(e){n.props.isCascadingPolicyApplicable&&n.setState({isCascadingOverwritten:e},n.setDirty)})),We(Ue(n),"renderDeleteMessage",(function(e,t){var n;return n=t.templateKey===Oe.k?e?"fileMetadataRemoveCustomTemplateConfirm":"folderMetadataRemoveCustomTemplateConfirm":e?"fileMetadataRemoveTemplateConfirm":"folderMetadataRemoveTemplateConfirm",a.createElement(u.b,Be({},f.a[n],{values:{metadataName:t.displayName}}))})),We(Ue(n),"setDirty",(function(e){var t=n.props,a=t.id,r=t.isCascadingPolicyApplicable,o=t.onModification,i=n.state,c=i.data,l=i.isCascadingEnabled,s=i.isCascadingOverwritten,u=!g()(c,n.props.data),d=!1;r&&(d=s||l!==n.isCascadingEnabled(n.props)),o&&o(a,u||d,e)})),We(Ue(n),"collapsibleRef",a.createRef()),We(Ue(n),"toggleIsEditing",(function(){n.setState((function(e){return{isEditing:!e.isEditing}}))})),We(Ue(n),"renderEditButton",(function(){var e=n.props.isDirty,t=n.state.isBusy,r=n.canEdit(),o=n.isEditing(),i=v()("metadata-instance-editor-instance-edit",{"metadata-instance-editor-instance-is-editing":o});return!r||e||t?null:a.createElement(j.a,{position:"top-left",text:a.createElement(u.b,f.a.metadataEditTooltip)},a.createElement(P.a,{className:i,"data-resin-target":"metadata-instanceedit",onClick:n.toggleIsEditing,type:"button"},a.createElement(M.a,null)))})),n.state=n.getState(e),n.fieldKeyToTypeMap=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=t.key,a=t.type;return e[n]=a,e}),{})}(e.template.fields),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e,t){var n=e.hasError,a=e.isDirty,r=this.collapsibleRef.current,o=this.props,i=o.hasError,c=o.isDirty,l=t.isEditing;r&&this.state.shouldConfirmRemove&&Object(A.e)(r,{block:"start",behavior:"smooth"}),i&&i!==n?this.setState({isBusy:!1,isEditing:!0}):a&&!c&&(l?this.setState({isBusy:!1}):this.setState({isBusy:!1,isCascadingOverwritten:!1}))}},{key:"getState",value:function(e){return{data:O()(e.data),errors:{},isBusy:!1,isCascadingEnabled:this.isCascadingEnabled(e),isCascadingOverwritten:!1,isEditing:!1,shouldConfirmRemove:!1,shouldShowCascadeOptions:!1}}},{key:"getTitle",value:function(){var e=this.props,t=e.cascadePolicy,n=void 0===t?{}:t,r=e.hasError,o=e.isCascadingPolicyApplicable,i=e.template,c=i.templateKey===Oe.k,l=o&&n.id?"cascade":"default";return a.createElement("span",{className:"metadata-instance-editor-instance-title"},a.createElement(T,{type:l}),a.createElement("span",{className:v()("metadata-instance-editor-instance-title-text",{"metadata-instance-editor-instance-has-error":r})},c?a.createElement(u.b,f.a.customTitle):i.displayName),r&&a.createElement(N.a,{color:k.k}))}},{key:"getConfirmationMessage",value:function(){var e=this.props,t=e.template,n=!e.isCascadingPolicyApplicable;return this.renderDeleteMessage(n,t)}},{key:"isCascadingEnabled",value:function(e){return!!e.cascadePolicy&&!!e.cascadePolicy.id}},{key:"createJSONPatch",value:function(e,t){var n=this,a=[],r=O()(e);return Object.keys(t).forEach((function(e){var o=n.fieldKeyToTypeMap[e],i=Je(t,e,o),c="/".concat(e);if(Object.prototype.hasOwnProperty.call(r,e)){var l=Je(r,e,o);g()(l,i)||(a.push({op:Oe.j,path:c,value:i}),a.push({op:Oe.i,path:c,value:l}))}else a.push({op:Oe.j,path:c,value:i}),a.push({op:Oe.h,path:c});delete r[e]})),Object.keys(r).forEach((function(e){var t=n.fieldKeyToTypeMap[e],o=Je(r,e,t);a.push({op:Oe.g,path:"/".concat(e),value:o})})),a}},{key:"canEdit",value:function(){var e=this.props,t=e.canEdit,n=e.onModification,a=e.onRemove,r=e.onSave;return t&&"function"===typeof a&&"function"===typeof r&&"function"===typeof n}},{key:"isEditing",value:function(){var e=this.state.isEditing;return this.canEdit()&&e}},{key:"render",value:function(){var e=this.props,t=e.cascadePolicy,n=void 0===t?{}:t,r=e.isDirty,o=e.isCascadingPolicyApplicable,i=e.isOpen,c=e.template,l=c.fields,u=void 0===l?[]:l,d=this.state,p=d.data,f=d.errors,m=d.isBusy,h=d.isCascadingEnabled,y=d.shouldConfirmRemove,v=d.shouldShowCascadeOptions,b=d.isCascadingOverwritten,g=c.templateKey===Oe.k,E=this.isEditing();if(!c||X(c))return null;var O=50*(u.length+1);return a.createElement("div",{ref:this.collapsibleRef},a.createElement(C.a,{animationDuration:O,buttonProps:We({},xe.a,"metadata-card"),hasStickyHeader:!0,headerActionItems:this.renderEditButton(),isBordered:!0,isOpen:i,title:this.getTitle()},y&&a.createElement(S.a,{isLoading:m},a.createElement(De,{confirmationMessage:this.getConfirmationMessage(),onCancel:this.onConfirmCancel,onConfirm:this.onRemove})),!y&&a.createElement(S.a,{isLoading:m},a.createElement(w.a,{onValidSubmit:r?this.onSave:s.a},a.createElement("div",{className:"metadata-instance-editor-instance"},o&&a.createElement(Q,{canEdit:E&&!!n.canEdit,isCascadingEnabled:h,isCascadingOverwritten:b,isCustomMetadata:g,onCascadeModeChange:this.onCascadeModeChange,onCascadeToggle:this.onCascadeToggle,shouldShowCascadeOptions:v}),g?a.createElement(_e,{canEdit:E,data:p,onFieldChange:this.onFieldChange,onFieldRemove:this.onFieldRemove}):a.createElement(ee,{canEdit:E,data:p,errors:f,onFieldChange:this.onFieldChange,onFieldRemove:this.onFieldRemove,template:c})),E&&a.createElement(Re,{onCancel:this.onCancel,onRemove:this.onConfirmRemove,showSave:r})))))}}])&&Ke(n.prototype,r),o&&Ke(n,o),t}(a.PureComponent);We(Ze,"defaultProps",{data:{},isDirty:!1});var Qe=Ze,$e=function(e){var t=e.isCascadingPolicyApplicable,n=void 0!==t&&t,r=e.editors,o=void 0===r?[]:r,i=e.onModification,c=e.onRemove,l=e.onSave,s=e.selectedTemplateKey;return o.map((function(e){var t=e.isDirty,r=void 0!==t&&t,u=e.instance,d=e.hasError,p=void 0!==d&&d,f=e.template,m=f.templateKey,h=1===o.length||m===s;return a.createElement(Qe,{canEdit:u.canEdit,cascadePolicy:u.cascadePolicy,data:u.data,hasError:p,id:u.id,isCascadingPolicyApplicable:n,isDirty:r,isOpen:h,key:"".concat(u.id,"-").concat(m),onModification:i,onSave:l,onRemove:c,template:f})}))},Ge=n(40),Xe=n(3),Ye=n(223),et=n(230),tt=n(748),nt=n(21),at=n.n(nt),rt=n(322),ot=function(e){var t=e.className,n=void 0===t?"icon-search":t,r=e.color,o=void 0===r?k.e:r,i=e.height,c=void 0===i?14:i,l=e.title,s=e.width,u=void 0===s?14:s;return a.createElement(d.a,{className:"icon-search ".concat(n),height:c,title:l,viewBox:"0 0 14 14",width:u},a.createElement("path",{className:"fill-color",d:"M13.7,12.1L11.6,10l-1.1-0.2c0.9-1,1.4-2.4,1.4-3.9c0-3.3-2.7-6-6-6C2.7,0,0,2.7,0,6s2.7,6,6,6 c1.5,0,2.9-0.6,4-1.5l0.2,1l2.1,2.1c0.4,0.4,1,0.4,1.4,0l0,0C14.1,13.1,14.1,12.5,13.7,12.1z M6,10.4c-2.5,0-4.5-2-4.5-4.5 s2-4.5,4.5-4.5s4.5,2,4.5,4.5S8.4,10.4,6,10.4z",fill:o,fillRule:"evenodd"}))},it=n(149);n(829);function ct(e){return(ct="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function st(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function pt(e,t){return!t||"object"!==ct(t)&&"function"!==typeof t?mt(e):t}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vt=Object(u.f)({clearButtonTitle:{id:"boxui.searchForm.clearButtonTitle",defaultMessage:"Clear"},searchButtonTitle:{id:"boxui.searchForm.searchButtonTitle",defaultMessage:"Search"},searchLabel:{id:"boxui.searchForm.searchLabel",defaultMessage:"Search query"}}),bt=function(e){function t(){var e,n;ut(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return yt(mt(n=pt(this,(e=ft(t)).call.apply(e,[this].concat(r)))),"state",{isEmpty:!0}),yt(mt(n),"onClearHandler",(function(e){var t=n.props,a=t.onChange;t.shouldPreventClearEventPropagation&&e.stopPropagation(),n.searchInput&&(n.searchInput.value=""),n.setState({isEmpty:!0}),a&&a("")})),yt(mt(n),"onChangeHandler",(function(e){var t=e.target.value,a=n.props.onChange;n.setState({isEmpty:!t||!t.trim().length}),a&&a(t)})),yt(mt(n),"onSubmitHandler",(function(e){var t=e.target.elements[0].value,a=n.props.onSubmit;a&&a(t,e)})),yt(mt(n),"setInputRef",(function(e){n.searchInput=e,n.props.getSearchInput&&n.props.getSearchInput(n.searchInput)})),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(t,e),n=t,o=[{key:"getDerivedStateFromProps",value:function(e){var t=e.value;return t&&t.trim()?{isEmpty:!0}:null}}],(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.action,r=t.className,o=t.intl,i=t.isLoading,c=t.method,l=t.name,s=t.queryParams,u=t.useClearButton,d=st(t,["action","className","intl","isLoading","method","name","queryParams","useClearButton"]),p=this.state.isEmpty,f=at()(d,["getSearchInput","onChange","onSubmit","required","shouldPreventClearEventPropagation"]),m=o.formatMessage,h=v()(r,"search-input-container"),y=v()("search-form",{"is-empty":p,"use-clear-button":u}),b=Object.keys(s).map((function(e,t){return a.createElement("input",{key:t,name:e,type:"hidden",value:s[e]})})),g=Object(it.a)((function(){return a.createElement("div",{className:"action-buttons"},a.createElement("button",{type:"button",className:"action-button search-button",title:m(vt.searchButtonTitle)},a.createElement(ot,null)),a.createElement("button",{className:"action-button clear-button",onClick:e.onClearHandler,title:m(vt.clearButtonTitle),type:"button"},a.createElement(rt.a,null)))}));return a.createElement("div",{className:h},a.createElement("form",{action:n,className:y,method:c,onChange:this.onChangeHandler,onSubmit:this.onSubmitHandler,role:"search"},a.createElement("input",lt({ref:this.setInputRef,"aria-label":m(vt.searchLabel),autoComplete:"off",className:"search-input",name:l,onChange:function(){},type:"search"},f)),a.createElement(g,{isLoading:i,loadingIndicatorProps:{className:"search-form-loading-indicator"}}),b))}}])&&dt(n.prototype,r),o&&dt(n,o),t}(a.Component);yt(bt,"defaultProps",{action:void 0,method:"get",name:"search",queryParams:{},useClearButton:!1});var gt=Object(u.g)(bt),Et=n(36),Ot=n(69),Ct=n(793),wt=n(134);n(831);function St(e){return(St="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function At(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var _t=function(e){var t=e.inputProps,n=void 0===t?{}:t,r=At(e,["inputProps"]);return a.createElement(gt,Mt({},n,r,{shouldPreventClearEventPropagation:!0,"data-resin-target":"metadata-templatesearch"}))},Ft=function(e,t){return e.filter((function(e){return-1===t.findIndex((function(t){return t.templateKey===e.templateKey&&t.scope===e.scope}))}))},Dt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=jt(t).call(this,e),n=!o||"object"!==St(o)&&"function"!==typeof o?kt(r):o,Nt(kt(n),"getDropdown",(function(){var e=n.props,t=e.isDropdownBusy,r=e.onAdd,o=e.activeTemplate,i=e.defaultTemplateIcon,c=e.activeTemplateIcon,l=e.templates,s=e.title,d=e.usedTemplates,p=n.state.templates,m=Ft(l,d).length>0,h=l.length>0,y=p.length>0,b=null;if(t)b=a.createElement(Ot.b,{className:"metadata-instance-editor-template-message template-dropdown-loading-indicator"});else if(!h||!m||!y){var g={id:""};h?m?y||(g=f.a.metadataTemplatesNoResults):g=f.a.metadataTemplatesNoRemainingTemplates:g=f.a.metadataTemplatesServerHasNoTemplates,b=a.createElement("i",{className:"metadata-instance-editor-template-message"},a.createElement(u.b,g))}var E=p.map((function(e){var t=o&&o.id===e.id,r=v()("metadata-template-dropdown-select-template",{"metadata-template-dropdown-is-selected":t});return a.createElement(et.a,{key:e.id},a.createElement(Et.a,{className:r,tabIndex:"-1",type:"button"},t?c:i,n.getTemplateName(e)))}));return a.createElement(a.Fragment,null,a.createElement(tt.a,{className:"metadata-instance-editor-template-dropdown-menu",title:s,isAlwaysOpen:!0,onSelect:function(e){r(p[e])},selector:n.getSelector(),shouldScroll:!0},b?null:E),b)})),Nt(kt(n),"getSelector",(function(){var e=n.props.intl,t=n.state.filterText;return a.createElement(_t,{label:"",onChange:n.handleUserInput,placeholder:e.formatMessage(f.a.metadataTemplateSearchPlaceholder),type:"text",useClearButton:!0,value:t})})),Nt(kt(n),"handleUserInput",(function(e){var t=n.props,a=t.templates,r=t.usedTemplates,o=e,i=Ft(a,r);n.setState({filterText:o,templates:i.filter((function(e){return(e.templateKey===Oe.k?f.a.customTitle.defaultMessage:e.displayName).toLowerCase().includes(o.toLowerCase())}))})})),Nt(kt(n),"onOpen",(function(){var e=n.props,t=e.onDropdownToggle,a=e.templates,r=e.usedTemplates;t&&t(!0),n.setState({isDropdownOpen:!0,filterText:"",templates:Ft(a,r)})})),Nt(kt(n),"onClose",(function(){var e=n.props.onDropdownToggle;e&&e(!1),n.setState({isDropdownOpen:!1})})),Nt(kt(n),"renderEntryButton",(function(){var e=n.props.entryButton,t=n.state.isDropdownOpen,r=v()("lnk",{"is-toggled":t});return e||a.createElement(Et.a,{"data-resin-target":"metadata-templateaddmenu",className:r,type:"button"},a.createElement(wt.a,null,a.createElement(u.b,f.a.metadataTemplateAdd)))})),n.state={isDropdownOpen:!1,filterText:"",templates:Ft(e.templates,e.usedTemplates)},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=e.templates,n=e.usedTemplates,a=this.props,r=a.templates,o=a.usedTemplates;g()(t,r)&&g()(n,o)||this.setState({templates:Ft(r,o)})}},{key:"getTemplateName",value:function(e){return e.templateKey===Oe.k?a.createElement(u.b,Mt({className:"template-display-name"},f.a.customTitle)):a.createElement("div",{className:"template-display-name"},e.displayName)}},{key:"render",value:function(){var e=this.props.className,t=v()("metadata-instance-editor-template-dropdown-flyout",e);return a.createElement(Ct.a,{className:t,closeOnClick:!0,closeOnClickOutside:!0,onClose:this.onClose,onOpen:this.onOpen,position:"bottom-left",shouldDefaultFocus:!0},this.renderEntryButton(),a.createElement(Ct.b,null,this.getDropdown()))}}])&&Pt(n.prototype,r),o&&Pt(n,o),t}(a.PureComponent),Rt=Object(u.g)(Dt),It=n(93),xt=n(9),Ht=n(77),Bt=n(222),zt=n(94),Lt=n(133),Kt=n(1);n(832);function Vt(e){return(Vt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(n,!0).forEach((function(t){$t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gt="".concat(Kt.Nd,"_").concat(It.a);Object(Ht.b)(Gt);var Xt=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=Jt(t).call(this,e),n=!r||"object"!==Vt(r)&&"function"!==typeof r?Zt(a):r,$t(Zt(n),"state",{isLoading:!1}),$t(Zt(n),"onApiError",(function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.props.onError,o=e.status,i=Object(xt.d)(o);n.setState(qt({error:Xe.a.sidebarMetadataEditingErrorContent,isLoading:!1},a)),r(e,t,$t({error:e},Kt.vd,i))})),$t(Zt(n),"onRemove",(function(e){var t=n.props.api,a=n.state.file,r=n.getEditor(e);r&&a&&t.getMetadataAPI(!1).deleteMetadata(a,r.template,(function(){return n.onRemoveSuccessHandler(r)}),n.onApiError)})),$t(Zt(n),"onAddSuccessHandler",(function(e){var t=n.state.editors,a=(void 0===t?[]:t).slice(0);a.push(e),n.setState({editors:a,isLoading:!1})})),$t(Zt(n),"onAdd",(function(e){var t=n.props.api,a=n.state.file;a&&(n.setState({isLoading:!0}),t.getMetadataAPI(!1).createMetadata(a,e,n.onAddSuccessHandler,n.onApiError))})),$t(Zt(n),"onSave",(function(e,t){var a=n.props.api,r=n.state.file,o=n.getEditor(e);o&&r&&a.getMetadataAPI(!1).updateMetadata(r,o.template,t,(function(e){n.replaceEditor(o,e)}),(function(e,t){n.onSaveErrorHandler(o,e,t)}))})),$t(Zt(n),"onModification",(function(e,t){var a=n.getEditor(e);if(a){var r=qt({},a,{isDirty:t});n.replaceEditor(a,r)}})),$t(Zt(n),"fetchMetadataErrorCallback",(function(e,t){n.onApiError(e,t,{editors:void 0,error:Xe.a.sidebarMetadataFetchingErrorContent,templates:void 0})})),$t(Zt(n),"fetchMetadataSuccessCallback",(function(e){var t=e.editors,a=e.templates,r=n.props,o=r.selectedTemplateKey,i=r.templateFilters;n.setState({editors:t.slice(0),error:void 0,isLoading:!1,templates:Y(a,o,i)})})),$t(Zt(n),"fetchFileErrorCallback",(function(e,t){n.onApiError(e,t,{error:Xe.a.sidebarFileFetchingErrorContent,file:void 0})})),$t(Zt(n),"fetchFileSuccessCallback",(function(e){var t=n.state.file,a=c()(t,Kt.Fc,!1),r=c()(e,Kt.Fc,!1),o=!t||a!==r?n.fetchMetadata:s.a;n.setState({file:e},o)})),n.props.logger.onReadyMetric({endMarkName:Gt}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.fetchFile()}},{key:"canEdit",value:function(){var e=this.state.file;return c()(e,Kt.Fc,!1)}},{key:"getEditor",value:function(e){var t=this.state.editors;return(void 0===t?[]:t).find((function(t){return t.instance.id===e}))}},{key:"onRemoveSuccessHandler",value:function(e){var t=this.state.editors,n=void 0===t?[]:t,a=n.slice(0);a.splice(n.indexOf(e),1),this.setState({editors:a})}},{key:"replaceEditor",value:function(e,t){var n=this.state.editors,a=void 0===n?[]:n,r=a.slice(0);r.splice(a.indexOf(e),1,t),this.setState({editors:r})}},{key:"onSaveErrorHandler",value:function(e,t,n){var a=qt({},e,{hasError:!0});this.replaceEditor(e,a),this.onApiError(t,n)}},{key:"fetchMetadata",value:function(){var e=this.props,t=e.api,n=e.isFeatureEnabled,a=this.state.file;a&&t.getMetadataAPI(!1).getMetadata(a,this.fetchMetadataSuccessCallback,this.fetchMetadataErrorCallback,n,{refreshCache:!0})}},{key:"fetchFile",value:function(){var e=this.props,t=e.api,n=e.fileId;t.getFileAPI().getFile(n,this.fetchFileSuccessCallback,this.fetchFileErrorCallback,{fields:[Kt.sc,Kt.Ec],refreshCache:!0})}},{key:"refresh",value:function(){this.fetchMetadata()}},{key:"render",value:function(){var e=this.state,t=e.editors,n=e.file,r=e.error,o=e.isLoading,i=e.templates,c=this.props,l=c.elementId,s=c.selectedTemplateKey,d=!!n&&!!i&&!!t,p=!r&&!d,f=this.canEdit(),y=d&&f,v=d&&0===t.length;return a.createElement(Ye.a,{actions:y?a.createElement(Rt,{hasTemplates:i&&0!==i.length,isDropdownBusy:!1,onAdd:this.onAdd,templates:i,usedTemplates:t.map((function(e){return e.template}))}):null,className:"bcs-metadata",elementId:l,sidebarView:Kt.ee,title:a.createElement(u.b,Xe.a.sidebarMetadataTitle)},r&&a.createElement(h.a,{title:a.createElement(u.b,Xe.a.error)},a.createElement(u.b,r)),p&&a.createElement(Ge.a,null),d&&a.createElement(S.a,{className:"metadata-instance-editor",isLoading:o},v?a.createElement(m,{canAdd:f}):a.createElement($e,{editors:t,onModification:this.onModification,onRemove:this.onRemove,onSave:this.onSave,selectedTemplateKey:s})))}}])&&Wt(n.prototype,r),o&&Wt(n,o),t}(a.PureComponent);$t(Xt,"defaultProps",{isFeatureEnabled:!0});t.default=o()([Object(Lt.a)(Kt.Nd),Object(zt.a)(Kt.Nd),Bt.b])(Xt)}}]);
//# sourceMappingURL=5.2b4fd460.chunk.js.map